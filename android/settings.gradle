pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
        // Add Flutter SDK repository
        def flutterSdkPath = System.getenv('FLUTTER_ROOT')
        if (flutterSdkPath == null) {
            flutterSdkPath = 'C:\\flutter'
        }
        def flutterRepoPath = "$flutterSdkPath/packages/flutter_tools/gradle"
        maven {
            url flutterRepoPath
        }
    }
    plugins {
        id 'dev.flutter.flutter-gradle-plugin'
    }
}

dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.name = "bitcoin_cloud_mining"
include ':app'


if (!localProperties.exists()) {
    localProperties.createNewFile()
    properties.setProperty('flutter.sdk', 'C:\\flutter')
    properties.setProperty('sdk.dir', System.getenv('LOCALAPPDATA') + '\\Android\\Sdk')
    localProperties.withWriter { writer ->
        properties.store(writer, null)

    }
}

localProperties.withReader('UTF-8') { reader -> properties.load(reader) }
apply from: "${properties.getProperty('flutter.sdk')}/packages/flutter_tools/gradle/app_plugin_loader.gradle"
